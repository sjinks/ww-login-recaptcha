{"version":3,"sources":["settings.js"],"names":["WWLoginRecaptcha","d","sitekey","invisible","container","ready","update","key","value","trim","inv","checked","old_key","old_inv","old","querySelector","dataset","size","parentNode","removeChild","el","createElement","classList","add","appendChild","grecaptcha","render","console","log","callback","document","getElementById","addEventListener","url","documentElement","lang","setAttribute","head","readyState","onload","WWLoginRecaptcha_OnLoad"],"mappings":"AAGA,IAAIA,iBAAmB,WACtB,IAAIC,EAAGC,EAASC,EAAWC,EAAWC,EAAQ,EAE9C,SAASC,IAER,GAAa,GAATD,EAAJ,CAKA,IAAIE,EAAML,EAAQM,MAAMC,OACpBC,EAAMP,EAAUQ,QAAU,YAAc,GAC5C,GAAIJ,EAAK,CACR,IAAIK,EAAU,GACVC,EAAU,GACVC,EAAMV,EAAUW,cAAc,gBAOlC,GANID,IACHF,EAAUE,EAAIE,QAAQd,QACtBW,EAAU,SAAUC,EAAIE,QAAUF,EAAIE,QAAQC,KAAO,GACrDH,EAAII,WAAWC,YAAYL,IAGxBP,GAAOK,GAAWF,GAAOG,EAAS,CACrC,IAAIO,EAAKnB,EAAEoB,cAAc,OACzBD,EAAGJ,QAAQd,QAAUK,EACrBa,EAAGE,UAAUC,IAAI,eACbpB,EAAUQ,UACbS,EAAGJ,QAAQC,KAAO,aAGnBG,EAAKhB,EAAUoB,YAAYJ,GAC3BK,WAAWC,OAAON,UAzBnBO,SAAWA,QAAQC,IAAI,kBAAmBvB,GA8B5C,SAASwB,IAER5B,EAAY6B,SACZ5B,EAAYD,EAAE8B,eAAe,WAC7B5B,EAAYF,EAAE8B,eAAe,aAC7B3B,EAAYH,EAAE8B,eAAe,uBAE7B7B,EAAQ8B,iBAAiB,OAAQ1B,GACjCH,EAAU6B,iBAAiB,SAAU1B,GAErC,IAAIc,EAAOnB,EAAEoB,cAAc,UAEvBY,EAAO,+CADAhC,EAAEiC,gBAAgBC,MAAQ,MAC6B,kDAClEf,EAAGgB,aAAa,MAAOH,GACvBb,EAAGgB,aAAa,QAAS,IACzBhB,EAAGgB,aAAa,QAAS,IACzBnC,EAAEoC,KAAKb,YAAYJ,GAGf,KADFf,GAEDC,IAWF,MAP4B,YAAxBwB,SAASQ,WACZR,SAASE,iBAAiB,mBAAoBH,GAG9CA,IAGM,CACNU,OAAQ,WAEH,KADFlC,GAEDC,MAvEmB,GA6EvB,SAASkC,0BAERxC,iBAAiBuC","file":"settings.min.js","sourcesContent":["/**\n * global: grecaptcha\n */\nvar WWLoginRecaptcha = (function() {\n\tvar d, sitekey, invisible, container, ready = 0;\n\n\tfunction update()\n\t{\n\t\tif (ready != 2) {\n\t\t\tconsole && console.log(\"Not yet ready: \", ready);\n\t\t\treturn;\n\t\t}\n\n\t\tvar key = sitekey.value.trim();\n\t\tvar inv = invisible.checked ? 'invisible' : '';\n\t\tif (key) {\n\t\t\tvar old_key = '';\n\t\t\tvar old_inv = '';\n\t\t\tvar old = container.querySelector('.g-recaptcha');\n\t\t\tif (old) {\n\t\t\t\told_key = old.dataset.sitekey;\n\t\t\t\told_inv = 'size' in old.dataset ? old.dataset.size : '';\n\t\t\t\told.parentNode.removeChild(old);\n\t\t\t}\n\n\t\t\tif (key != old_key || inv != old_inv) {\n\t\t\t\tvar el = d.createElement('div');\n\t\t\t\tel.dataset.sitekey = key;\n\t\t\t\tel.classList.add('g-recaptcha');\n\t\t\t\tif (invisible.checked) {\n\t\t\t\t\tel.dataset.size = 'invisible';\n\t\t\t\t}\n\n\t\t\t\tel = container.appendChild(el);\n\t\t\t\tgrecaptcha.render(el);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction callback()\n\t{\n\t\td         = document;\n\t\tsitekey   = d.getElementById('sitekey');\n\t\tinvisible = d.getElementById('invisible');\n\t\tcontainer = d.getElementById('recaptcha-container');\n\n\t\tsitekey.addEventListener('blur', update);\n\t\tinvisible.addEventListener('change', update);\n\n\t\tvar el   = d.createElement('script');\n\t\tvar lang = d.documentElement.lang || 'en';\n\t\tvar url  = 'https://www.google.com/recaptcha/api.js?hl=' + lang + '&onload=WWLoginRecaptcha_OnLoad&render=explicit';\n\t\tel.setAttribute('src', url);\n\t\tel.setAttribute('async', '');\n\t\tel.setAttribute('defer', '');\n\t\td.head.appendChild(el);\n\n\t\t++ready;\n\t\tif (2 == ready) {\n\t\t\tupdate();\n\t\t}\n\t}\n\n\tif (document.readyState === 'loading') {\n\t\tdocument.addEventListener('DOMContentLoaded', callback);\n\t}\n\telse {\n\t\tcallback();\n\t}\n\n\treturn {\n\t\tonload: function() {\n\t\t\t++ready;\n\t\t\tif (2 == ready) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t}\n\t};\n})();\n\nfunction WWLoginRecaptcha_OnLoad()\n{\n\tWWLoginRecaptcha.onload();\n}\n"]}